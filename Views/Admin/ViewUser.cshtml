@model App_CCP.View_Models.EditProfileViewModel

<h2>Profil utilizator</h2>

<div class="card mb-4">
    <div class="card-body">
        <div class="row">
            <div class="col-md-4">
                @if (!string.IsNullOrEmpty(Model.ProfilePicturePath))
                {
                    <img src="@Model.ProfilePicturePath" alt="Poză de profil" class="img-thumbnail" />
                }
                else
                {
                    <p>Fără poză de profil</p>
                }
            </div>
            <div class="col-md-8">
                <dl class="row">
                    <dt class="col-sm-4">Nume complet</dt>
                    <dd class="col-sm-8">@Model.FullName</dd>

                    <dt class="col-sm-4">Email</dt>
                    <dd class="col-sm-8">@Model.Email</dd>

                    <dt class="col-sm-4">Telefon</dt>
                    <dd class="col-sm-8">@Model.PhoneNumber</dd>

                    <dt class="col-sm-4">Data nașterii</dt>
                   
                    <dd class="col-sm-8">
                        @(Model.DateOfBirth?.ToString("dd MMMM yyyy", new System.Globalization.CultureInfo("ro-RO")) ?? "Nespecificată")
                    </dd>

                    <dt class="col-sm-4">Naționalitate</dt>
                    <dd class="col-sm-8">@Model.Nationality</dd>

                    <dt class="col-sm-4">Locul nașterii</dt>
                    <dd class="col-sm-8">@Model.PlaceOfBirth</dd>

                    <dt class="col-sm-4">Ocupație</dt>
                    <dd class="col-sm-8">@Model.Occupation</dd>

                    <dt class="col-sm-4">Mențiuni</dt>
                    <dd class="col-sm-8">@Model.Mentions</dd>

                    <dt class="col-sm-4">Data expirării cardului</dt>
                    <dd class="col-sm-8">
                        @(Model.ExpirationDate.HasValue
                            ? Model.ExpirationDate.Value.ToString("dd MMMM yyyy", new System.Globalization.CultureInfo("ro-RO"))
                            : "Nespecificată")
                    </dd>

                    <dt class="col-sm-4">Cod Unic</dt>
                    <dd class="col-sm-8">@Model.UniqueCode</dd>
                </dl>

                <a asp-action="EditUser" asp-route-id="@Model.Id" class="btn btn-warning">Editează</a>
                <form asp-action="SendPasswordResetLink" method="post" class="d-inline">
                    <input type="hidden" name="userId" value="@Model.Id" />
                    <button type="submit" class="btn btn-warning">Trimite link de resetare parolă</button>
                    @if (TempData["SuccessMessage"] is string message)
                    {
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            @message
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Închide"></button>
                        </div>
                    }
                </form>
                <a asp-action="UserList" class="btn btn-primary"> <i class="fas fa-undo"></i> Înapoi la listă</a>
            </div>
            @if (!Model.IsCardApprovedByAdmin)
            {
                <form asp-action="ApproveCard" method="post">
                    <input type="hidden" name="userId" value="@Model.Id" />
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-check-circle"></i> Aprobă cardul
                    </button>
                </form>
            }
        </div>
    </div>
</div>
